# –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## üìã –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. ‚úÖ **–§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã** - –ö–∫–∞—á —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Å—É–º–º–µ –∑–∞ –ø–µ—Ä–∏–æ–¥
2. ‚úÖ **SQL –∑–∞–ø—Ä–æ—Å—ã** - –∑–∞–º–µ–Ω–µ–Ω—ã final_amount ‚Üí base_amount
3. ‚úÖ **Frontend /operations** - —Å—É–º–º–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚úÖ **salary_summary** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å SAP
5. ‚úÖ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ cron** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üöÄ –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –ù–ê –°–ï–†–í–ï–†–ï (–ü–û–õ–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø)

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
\\\ash
cd /home/admin-lc/salary_monitor
git pull
\\\

### –®–∞–≥ 2: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend
\\\ash
cd backend
npm install
npm run build
\\\

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend
\\\ash
cd ../frontend
npm install
npm run build
\\\

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å SQL views
\\\ash
cd /home/admin-lc/salary_monitor
node backend/scripts/recreate-views.js
\\\

### –®–∞–≥ 5: –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
\\\ash
# –ü–µ—Ä–µ—Å—á–µ—Ç —Å—É–º–º –æ–ø–µ—Ä–∞—Ü–∏–π (–ë–ï–ó –ö–∫–∞—á)
node backend/scripts/direct-recalculate.js

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ salary_summary
node backend/scripts/update-salary-summary.js
\\\

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2
\\\ash
pm2 restart salary-monitor-backend
pm2 restart salary-monitor-frontend  # –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
\\\

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
\\\ash
pm2 logs salary-monitor-backend --lines 50
\\\

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—É–ª—ã
\\\ash
node backend/scripts/final-test.js
\\\

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –ú4 –£–ø–∞–∫–æ–≤–∫–∞: 2 –ê–ï–ò √ó 1.40‚ÇΩ = 2.80‚ÇΩ ‚úÖ

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ salary_summary
\\\ash
node backend/scripts/update-salary-summary.js
\\\

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ –∑–∞ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
\\\ash
node backend/scripts/check-cron-status.js
\\\

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è < 26 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥
- –û–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- http://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä:3017/operations
- –°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ 0.00‚ÇΩ)

---

## üìä –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|-----------|
| \ackend/scripts/direct-recalculate.js\ | –ü–µ—Ä–µ—Å—á–µ—Ç —Å—É–º–º –æ–ø–µ—Ä–∞—Ü–∏–π (–ë–ï–ó –ö–∫–∞—á) |
| \ackend/scripts/recreate-views.js\ | –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ SQL views |
| \ackend/scripts/final-test.js\ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞ |
| \ackend/scripts/update-salary-summary.js\ | **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ salary_summary** |
| \ackend/scripts/check-cron-status.js\ | **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** |

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

1. **–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 02:00** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å SAP
2. **–ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** - –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ salary_summary
3. **–í –ë–î** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã —Å –ö–∫–∞—á

---

## üìù –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

\\\ash
cd /home/admin-lc/salary_monitor && \\
git pull && \\
cd backend && npm install && npm run build && cd .. && \\
cd frontend && npm install && npm run build && cd .. && \\
node backend/scripts/recreate-views.js && \\
node backend/scripts/direct-recalculate.js && \\
node backend/scripts/update-salary-summary.js && \\
pm2 restart all && \\
echo '‚úÖ –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´!'
\\\

---

**–î–∞—Ç–∞:** 23.01.2026  
**–ö–æ–º–º–∏—Ç—ã:**
- \684d06\ - fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞
- \47661fe\ - docs: –æ—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
- \6be1317\ - fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã SQL –∑–∞–ø—Ä–æ—Å—ã
- \416a003\ - fix: frontend /operations + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ cron
- \7f576ef\ - feat: –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ salary_summary

